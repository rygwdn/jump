# Hook to record directory visits (when PWD changes)
function __jumpr_visit --on-variable PWD
    test -z "$fish_private_mode"
    and command {{exe_path}} update-frecency --visit -- "$PWD" 2>/dev/null
end

# Hook to update access time (when prompt is rendered)
function __jumpr_access --on-event fish_prompt
    test -z "$fish_private_mode"
    and command {{exe_path}} update-frecency -- "$PWD" 2>/dev/null
end

function {{navigate_cmd}}
    set -l paths ({{exe_path}} nav $argv)
    if test (count $paths) -gt 0
        cd $paths
    end
end

function {{code_cmd}}
    set -l paths ({{exe_path}} nav --multi $argv)
    if test (count $paths) -gt 0
        code $paths
    end
end
